//–ë–µ—Ä—á—É–∫ –°–µ—Ä–µ–≥–µ–π –£—Ç—Å/–± 22-2-–æ
/*
 * 1. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —á—Ç–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ —Ñ–∞–π–ª–æ–≤ —Ñ–æ—Ä–º–∞—Ç–æ–≤. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å
–º–æ–∂–Ω–æ –ø–æ –ø—Ä–∏–º–µ—Ä–∞–º.
a. ICO: ICONDIR –∏ ICONDIRENTRY
*/

#include <iostream>
#include <fstream>

typedef short int WORD;
typedef char SHWORD;
typedef int LWORD;


#pragma pack(push, 2)

struct ICONDIR {
    WORD Reserved;
    WORD Type;
    WORD Count;
};

struct ICONDIRENTRY {
    SHWORD Width;
    SHWORD Height;
    SHWORD ColorCount;
    SHWORD Reserved;
    WORD Planes;
    WORD BitCount;
    LWORD BytesInRes;
    LWORD ImageOffset;
};

#pragma pack(pop)

int main() {


    std::ifstream file("rotation.ico", std::ios::binary);
    ICONDIR icon_dir;
    file.read((char*)&icon_dir, sizeof(icon_dir));
    std::cout << "\t--ICONDIR--" << std::endl;
    std::cout << "\tReserved: " << icon_dir.Reserved << std::endl;
    std::cout << "\tType: " << icon_dir.Type << std::endl;
    std::cout << "\tCount: " << icon_dir.Count << std::endl << std::endl;

    ICONDIRENTRY dir_entry;
    file.read((char*)&dir_entry, sizeof(dir_entry));
    file.close();

    std::cout << "\t--ICONDIRENTRY--" << std::endl;
    std::cout << "\tWidth: " << (short)(dir_entry.Width) << std::endl;
    std::cout << "\tHeight: " << (short)(dir_entry.Height) << std::endl;
    std::cout << "\tColorCount: " << (short)(dir_entry.ColorCount) << std::endl;
    std::cout << "\tPlanes: " << dir_entry.Planes << std::endl;
    std::cout << "\tBitCount: " << dir_entry.BitCount << std::endl;
    std::cout << "\tBytesInRes: " << dir_entry.BytesInRes << std::endl;
    std::cout << "\tImageOffset: " << dir_entry.ImageOffset << std::endl;

    return 0;
}

/*
 * 3. –ü—Ä–æ—Ç–∞–±—É–ª–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é. –ù–∞—á–∞–ª—å–Ω—É—é –∏ —Ñ–∏–Ω–∞–ª—å–Ω—É—é —Ç–æ—á–∫–∏, —à–∞–≥, –ø–∞—Ä–∞–º–µ—Ç—Ä –ß
—Å—á–∏—Ç—ã–≤–∞—Ç—å –∏–∑ —Ñ–∞–π–ª–∞ in.txt. –†–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –≤ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª out.txt. –§–æ—Ä–º–∞—Ç
–∑–∞–ø–∏—Å–∏ –¥–∞–Ω–Ω—ã—Ö:
x0, y(x0)
x1, y(x1)
x2, y(x2)
–∏ —Ç.–¥.
a. ùë¶ = ùë• + 2ùë• + 3ùë• + ‚ãØ + –ßùë•
*/

#include <iostream>
#include <fstream>
#include <cmath>

int main() {
    double x0, x1, step, C; // –ø–∞—Ä–∞–º–µ—Ç—Ä –ß - —ç—Ç–æ C
    std::ifstream f("in.txt");
    f >> x0 >> x1 >> step >> C;
    f.close();

    std::ofstream fout("out.txt");
    for (double x = x0; x <= x1; x += step) {
        double y = 0;
        for (int i = 1; i <= C; i++) {
            y += i * x;
        }
        fout << x << ", " << y << std::endl;
    }
    fout.close();

    std::cout << "Tabulling be save in out.txt" << std::endl;

    return 0;
}
/*
 * 4. –†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É –¥–ª—è —Å—á–∏—Ç—ã–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ —Å—Ç—É–¥–µ–Ω—Ç–∞—Ö –∏–∑ —Ñ–∞–π–ª–∞ –≤ —Å–ª–µ–¥—É—é—â–µ–º
—Ñ–æ—Ä–º–∞—Ç–µ: 1 —Å—Ç—Ä–æ–∫–∞ –§–∞–º–∏–ª–∏—è, 2 —Å—Ç—Ä–æ–∫–∞ –°—Ä–µ–¥–Ω—è—è –æ—Ü–µ–Ω–∫–∞, 3 —Å—Ç—Ä–æ–∫–∞ –ö—É—Ä—Å. –û—Å—Ç–∞–ª—å–Ω—ã–µ
—Å—Ç—Ä–æ–∫–∏ –ø–æ–≤—Ç–æ—Ä—è—é—Ç —Ç—Ä–æ–π–∫–∞–º–∏ —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –¥—Ä—É–≥–∏—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤. –û—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å
—Å—á–∏—Ç—ã–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ñ–∞–π–ª–∞ –≤ –º–∞—Å—Å–∏–≤ —Å—Ç—Ä—É–∫—Ç—É—Ä. –û—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è
—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.
*/

#include <iostream>
#include <fstream>
#include <string>
#include<array>

const int N = 10;
struct Student {
    std::string lastName;
    double averageGrade;
    int course;
};

void showInfo(Student &student)
{
    std::cout <<student.lastName << std::endl;
    std::cout <<student.averageGrade << std::endl;
    std::cout <<student.course << std::endl;
    std::cout << std::endl;
}
int main() {
    std::array<Student, N> students;
    std::ifstream fin("D:/data_samples/students.txt");

    int count = 0;
    while (!fin.eof() && count < N) {
        std::getline(fin, students[count].lastName);
        fin >> students[count].averageGrade;
        fin >> students[count].course;
        fin.ignore();
        count++;
    }

    fin.close();

    std::cout << "Read " << count << " students from file." << std::endl;

    for(int i  = 0; i < count; i++)
        showInfo(students[i]);

    return 0;
}
